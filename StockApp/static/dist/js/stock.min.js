var Site=function(){this.symbol="MSFT"};Site.prototype.Init=function(){this.GetQuote(),$("#symbol").on("click",function(){$(this).val("")})},Site.prototype.GetQuote=function(){var t=this;$.ajax({url:"/quote?symbol="+t.symbol,method:"GET",cache:!1}).done(function(e){var o={};o.shortName=e.shortName,o.symbol=e.symbol,o.price=e.ask,(e.quoteType="MUTUALFUND")&&(o.price=e.previousClose),t.LoadChart(o)})},Site.prototype.SubmitForm=function(){this.symbol=$("#symbol").val(),this.GetQuote()},Site.prototype.LoadChart=function(t){var e=this;$.ajax({url:"/history?symbol="+e.symbol,method:"GET",cache:!1}).done(function(o){e.RenderChart(JSON.parse(o),t)})},Site.prototype.RenderChart=function(t,e){var o=[],i=[],r=e.shortName+" ("+e.symbol+") - "+numeral(e.price).format("$0,0.00");for(var a in t.Close){var n=a.slice(0,a.length-3),l=moment.unix(n).format("MM/YY");null!=t.Close[a]&&(o.push(t.Close[a]),i.push(l))}Highcharts.chart("chart_container",{title:{text:r},yAxis:{title:{text:""}},xAxis:{categories:i},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1}},area:{}},series:[{type:"area",color:"#85bb65",name:"Price",data:o}],responsive:{rules:[{condition:{maxWidth:640},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})};var site=new Site;$(document).ready(()=>{site.Init()});